var field = require('users/emanuelespiritowork/SharedRepo:assets/AOI');

var image_coll = ee.ImageCollection("COPERNICUS/S2_SR_HARMONIZED")
.filterDate('2024-05-16','2024-05-18')
.filterBounds(field.AOI);

var image = image_coll.first();

var plot = require('users/emanuelespiritowork/SharedRepo:functions/clip_img');

var clipped_image = plot.clip_img(image);

var mask = require('users/emanuelespiritowork/SharedRepo:functions/s2_mask_img');

var masked_image = mask.s2_mask_img(clipped_image);

var import3 = require('users/emanuelespiritowork/SharedRepo:functions/pixel_percentage_img');

var pix_perc_image = import3.pixel_percentage_img(masked_image);

var import4 = require('users/emanuelespiritowork/SharedRepo:functions/s2_scale_img');

var scaled_image = import4.s2_scale_img(pix_perc_image);

Map.addLayer(clipped_image,{},'clipped_image');
Map.addLayer(masked_image,{},'masked_image');
Map.addLayer(pix_perc_image,{},'pix_perc_image');
Map.addLayer(scaled_image,{},'scaled_image');
Map.centerObject(field.AOI);
